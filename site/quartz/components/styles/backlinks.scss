@use "../../styles/variables.scss" as *;

.backlinks {
  flex-direction: column;

  & > h3 {
    font-size: 1rem;
    margin: 0;
  }

  & > ul.overflow {
    list-style: none;
    padding: 0;
    margin: 0.5rem 0;
    max-height: calc(100% - 2rem);
    overscroll-behavior: contain;

    & > li {
      margin-bottom: 0.3rem; // Small spacing between different links
      
      & > a {
        background-color: transparent;
        line-height: 1.2; // Tighter line spacing within a single link when it wraps
        display: inline-block; // Allow line wrapping
      }
    }
  }

  // On mobile, remove max-height and overflow constraints
  // so backlinks flow naturally as part of the page
  @media all and ($mobile) {
    // Override the max-height: 24rem from base.scss sidebar.right > *
    max-height: none !important;
    height: auto !important;
    
    & > ul.overflow {
      max-height: none !important;
      overflow: visible !important;
      overflow-y: visible !important;
      overscroll-behavior: auto;
      height: auto !important;
    }
    
    // Also override parent div constraints if any
    &:has(> ul.overflow) {
      max-height: none !important;
      overflow: visible !important;
      overflow-y: visible !important;
    }
  }
}
